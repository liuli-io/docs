分发器配置
=================================
目前分发器支持类型如下：

- [推荐] wecom：企业微信
- ding：钉钉
- tg: Telegram

**************
钉钉
**************

建立一个群聊用于接收文章消息，然后新增一个群机器人，如下图：

.. image:: https://raw.githubusercontent.com/howie6879/oss/master/images/GctXXh.jpg

然后配置机器人：

.. image:: https://raw.githubusercontent.com/howie6879/oss/master/images/7iWlhv.jpg

最后记住机器人对应的 ``Token`` ，一般格式如 ``1dea61224e683d90c5d3694c89e30841681567747f41fb9722597d48655f4365`` ，那么此时分发器配置如下：::

    # 分发配置，目标支持：ding[钉钉]、wecom[企业微信]、tg[Telegram] 等等
    SENDER_LIST = ["ding"]
    # 申请钉钉TOKEN时候，关键字必须带有 [liuli] !重要
    DD_TOKEN = os.getenv('LL_D_TOKEN', '1dea61224e683d90c5d3694c89e30841681567747f41fb9722597d48655f4365')


**************
企业微信
**************

如果你热衷微信生态，``Liuli`` 同样对企业微信做了支持，请先随便用手机号注册一个 `企业微信 <https://work.weixin.qq.com/>`_ 。

首先创造应用：

.. image:: https://raw.githubusercontent.com/howie6879/oss/master/images/2Cfkbw.png

获取相关ID：

.. image:: https://raw.githubusercontent.com/howie6879/oss/master/images/zLGP5T.png

企业ID在 ``我的企业->企业信息->企业ID`` 。

为了方便可以在微信上接收消息，记得开启微信插件，进入下图所在位置，然扫码关注你的二维码即可：

.. image:: https://raw.githubusercontent.com/howie6879/oss/master/images/zlfcd9.png

现在你获取了以下三个参数，请到对应配置填写秘钥即可：::

    WECOM_ID = os.getenv("CC_WECOM_ID", "wwee29721ad4f6e1c9")
    WECOM_AGENT_ID = os.getenv("CC_WECOM_AGENT_ID", "-1")
    WECOM_SECRET = os.getenv(
        "CC_WECOM_SECRET", "O4M9w38wuwAxCMr0O3lTqAgzLC7yxjsDGr6lgv12345"
    )

**************
Telegram
**************

===========
获取Token
===========

首先，通过以下链接连接到 ``@BotFather`` : https://telegram.me/BotFather 当在电报中打开与 ``BotFather`` 的聊天窗口时，按下 ``Start`` 按钮。

你会看到像这样的消息：

.. image:: https://gitee.com/howie6879/oss/raw/master/uPic/TGbotStart.jpeg

发送 ``/newbot`` 命令：

.. image:: https://gitee.com/howie6879/oss/raw/master/uPic/TGbotNew.jpeg

并输入您的机器人的名称：

.. image:: https://gitee.com/howie6879/oss/raw/master/uPic/TGbotName.jpeg

然后，需要为机器人设定用户名，设定之后将返回 ``Telegram Bot`` 的 ``Token`` :

.. image:: https://gitee.com/howie6879/oss/raw/master/uPic/TGbotToken.jpeg

==============
获取 chat id
==============

通过以下链接连接到 ``@userinfobot`` : https://telegram.me/userinfobot 当在电报中打开与 ``userinfobot`` 的聊天窗口时，输入任意内容，它将返回你的 ``chat id`` ：

.. image:: https://gitee.com/howie6879/oss/raw/master/uPic/TGuserInfoBot.jpeg

================
设置对应环境变量
================

修改 ``.env`` 文件设置环境变量：::

    # 你Telegram的chat id
    LL_TG_CHAT_ID = "1222431510"
    # 你TelegramBot的Token
    LL_TG_TOKEN = "5065136980:BBF4uhUcGLP1-6qOHBfIT_0EArbXjek91GY"

*********
Bark
*********
仅介绍 ``Bark`` 客户端的使用，要自行部署 ``Bark`` 服务端，请参考 `bark-server <https://github.com/Finb/bark-server>`_ 。

============
获取推送url
============

打开APP，复制URL

.. image:: https://gitee.com/howie6879/oss/raw/master/uPic/003rYfqply1grd1meqrvcj60bi08zt9i02.jpg

=================
设置对应环境变量
=================

修改 ``.env`` 文件设置环境变量 ``LL_BARK_URL``
